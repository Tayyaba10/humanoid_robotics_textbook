"use strict";(globalThis.webpackChunkhumanoid_robotics_textbook=globalThis.webpackChunkhumanoid_robotics_textbook||[]).push([[713],{1470:(e,n,t)=>{t.d(n,{A:()=>v});var o=t(6540),i=t(4164),r=t(7559),a=t(3104),s=t(6347),l=t(205),c=t(7485),h=t(1682),d=t(679);function u(e){return o.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function f(e){const{values:n,children:t}=e;return(0,o.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:o}})=>({value:e,label:n,attributes:t,default:o}))}(t);return function(e){const n=(0,h.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(i),(0,o.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,r=f(e),[a,s]=(0,o.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r})),[c,h]=m({queryString:t,groupId:i}),[u,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,i]=(0,d.Dv)(n);return[t,(0,o.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),b=(()=>{const e=c??u;return p({value:e,tabValues:r})?e:null})();(0,l.A)(()=>{b&&s(b)},[b]);return{selectedValue:a,selectValue:(0,o.useCallback)(e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);s(e),h(e),g(e)},[h,g,r]),tabValues:r}}var b=t(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(4848);function w({className:e,block:n,selectedValue:t,selectValue:o,tabValues:r}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,a.a_)(),c=e=>{const n=e.currentTarget,i=s.indexOf(n),a=r[i].value;a!==t&&(l(n),o(a))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:r.map(({value:e,label:n,attributes:o})=>(0,j.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{s.push(e)},onKeyDown:h,onClick:c,...o,className:(0,i.A)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:t}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===t);return e?(0,o.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function k(e){const n=g(e);return(0,j.jsxs)("div",{className:(0,i.A)(r.G.tabs.container,"tabs-container",x.tabList),children:[(0,j.jsx)(w,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function v(e){const n=(0,b.A)();return(0,j.jsx)(k,{...e,children:u(e.children)},String(n))}},2812:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>d,default:()=>m,frontMatter:()=>h,metadata:()=>o,toc:()=>f});const o=JSON.parse('{"id":"manipulation","title":"6. Principles of Robotic Manipulation","description":"The fundamentals of how humanoid robots can grasp and manipulate objects.","source":"@site/docs/06-manipulation.mdx","sourceDirName":".","slug":"/manipulation","permalink":"/humanoid_robotics_textbook/manipulation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"manipulation","title":"6. Principles of Robotic Manipulation","description":"The fundamentals of how humanoid robots can grasp and manipulate objects.","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"5. Control Architectures for Locomotion","permalink":"/humanoid_robotics_textbook/control-locomotion"},"next":{"title":"7. Planning & Decision-Making","permalink":"/humanoid_robotics_textbook/planning-decision-making"}}');var i=t(4848),r=t(8453),a=t(418),s=t(3457),l=t(1470),c=t(9365);const h={id:"manipulation",title:"6. Principles of Robotic Manipulation",description:"The fundamentals of how humanoid robots can grasp and manipulate objects.",sidebar_position:6},d=void 0,u={},f=[{value:"The Art of Interaction",id:"the-art-of-interaction",level:2},{value:"The Arm: A Kinematic Chain",id:"the-arm-a-kinematic-chain",level:3},{value:"Forward Kinematics (FK): The &quot;Easy&quot; Question",id:"forward-kinematics-fk-the-easy-question",level:4},{value:"Inverse Kinematics (IK): The &quot;Hard&quot; Question",id:"inverse-kinematics-ik-the-hard-question",level:4},{value:"The Hand: End-Effectors",id:"the-hand-end-effectors",level:3},{value:"From Position to Force: The Jacobian",id:"from-position-to-force-the-jacobian",level:3},{value:"The Importance of Feeling: Force Control and Compliance",id:"the-importance-of-feeling-force-control-and-compliance",level:3},{value:"Code Example: Forward Kinematics for a 2-Link Arm",id:"code-example-forward-kinematics-for-a-2-link-arm",level:3}];function p(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"the-art-of-interaction",children:"The Art of Interaction"}),"\n",(0,i.jsxs)(n.p,{children:["Locomotion gets a robot to the right place, but ",(0,i.jsx)(n.strong,{children:"manipulation"})," allows it to perform useful tasks once it's there. Manipulation is the art and science of physically interacting with objects: picking them up, moving them, and using them to achieve a goal. For a humanoid robot, this means controlling its arms and hands with precision and dexterity."]}),"\n",(0,i.jsx)(n.p,{children:"This chapter explores the core principles that govern how a robot controls its limbs to interact with the world."}),"\n",(0,i.jsx)(n.h3,{id:"the-arm-a-kinematic-chain",children:"The Arm: A Kinematic Chain"}),"\n",(0,i.jsxs)(n.p,{children:["A robot's arm is a ",(0,i.jsx)(n.strong,{children:"kinematic chain"}),": a sequence of rigid links (the bones) connected by joints (like your elbow and shoulder). To control the arm, we must understand its geometry. This is the study of kinematics."]}),"\n",(0,i.jsx)(a.A,{chart:"\ngraph TD\n  A(Base) -- Link 1 --\x3e B(Joint 1);\n  B -- Link 2 --\x3e C(Joint 2);\n  C -- Link 3 --\x3e D(End-Effector / Hand);\n\n  style A fill:#f9f9f9,stroke:#333,stroke-width:2px\n  style D fill:#bde0fe,stroke:#333,stroke-width:2px\n"}),"\n",(0,i.jsx)(n.h4,{id:"forward-kinematics-fk-the-easy-question",children:'Forward Kinematics (FK): The "Easy" Question'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Question:"})," If I know the angles of all my joints, where is my hand?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Process:"})," FK uses the robot's known link lengths and its measured joint angles (from encoders) to calculate the precise 3D position and orientation of the end-effector. It's a straightforward problem of applying a series of geometric transformations (translations and rotations)."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"inverse-kinematics-ik-the-hard-question",children:'Inverse Kinematics (IK): The "Hard" Question'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Question:"})," If I want my hand to be at a specific target position, what should all my joint angles be?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Process:"})," This is a much harder problem. Unlike FK, which has one unique answer, IK can have:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No solution:"})," The target is outside the robot's reachable workspace."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multiple solutions:"}),' The robot can reach the same point with different poses (e.g., "elbow up" vs. "elbow down").']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Infinite solutions:"})," If the robot is ",(0,i.jsx)(n.em,{children:"redundant"})," (has more joints than necessary), there are infinite ways to reach a target."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"IK is typically solved with iterative numerical optimizers that try to find the best joint configuration to minimize the distance between the hand and the target."}),"\n",(0,i.jsx)(n.h3,{id:"the-hand-end-effectors",children:"The Hand: End-Effectors"}),"\n",(0,i.jsx)(n.p,{children:'The "hand" of the robot is its end-effector.'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Simple Grippers:"})," Most robots today use simple two-fingered parallel grippers. They are robust, simple to control, and effective for a wide range of objects."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Dextrous Hands:"})," Advanced, multi-fingered hands that mimic human dexterity are a major area of research. They offer incredible flexibility but are mechanically complex and extremely difficult to control."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A key distinction in grasping is the difference between a ",(0,i.jsx)(n.strong,{children:"power grasp"})," (wrapping the whole hand around an object for a secure hold) and a ",(0,i.jsx)(n.strong,{children:"precision grasp"})," (using the fingertips for fine-grained control)."]}),"\n",(0,i.jsx)(n.h3,{id:"from-position-to-force-the-jacobian",children:"From Position to Force: The Jacobian"}),"\n",(0,i.jsxs)(n.p,{children:["So far, we've only talked about position. But manipulation is fundamentally about applying ",(0,i.jsx)(n.strong,{children:"forces"}),". How do we control the force exerted by the hand? The answer lies in a critical piece of mathematics: the ",(0,i.jsx)(n.strong,{children:"Jacobian matrix (J)"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The Jacobian is the bridge between the robot's joints and its end-effector."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Velocity Mapping:"})," It relates the velocity of the joints to the velocity of the hand.\n",(0,i.jsx)(n.code,{children:"end_effector_velocity = J * joint_velocities"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Force Mapping:"})," Through its transpose (",(0,i.jsx)(n.code,{children:"J^T"}),"), it also relates the force you want to apply with the hand to the torques you need at the joints.\n",(0,i.jsx)(n.code,{children:"joint_torques = J^T * end_effector_force"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The Jacobian allows us to switch from thinking purely in terms of position to thinking in terms of force."}),"\n",(0,i.jsx)(n.h3,{id:"the-importance-of-feeling-force-control-and-compliance",children:"The Importance of Feeling: Force Control and Compliance"}),"\n",(0,i.jsx)(n.p,{children:"Imagine trying to open a drawer with your eyes closed. You would push forward gently until you felt the handle, then pull. You are using force feedback. A robot must do the same."}),"\n",(0,i.jsxs)(n.p,{children:["A purely position-controlled robot is a poor manipulator. If it's commanded to move to a point inside a table, it will try to do so with maximum force, potentially breaking itself or the table. To perform contact tasks, a robot needs ",(0,i.jsx)(n.strong,{children:"compliance"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Compliance"}),' is the ability to yield or "be soft" in response to external forces. It is essential for:']}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Safety:"})," A compliant robot is safer to be around."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Contact Tasks:"})," Inserting a key, wiping a surface, or turning a crank all require compliant control that balances position and force."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Hybrid Position/Force Control"}),' is a common strategy where the robot\'s control is split. For example, when sliding a block along a table, the controller might be in "position control" in the horizontal direction but in "force control" in the vertical direction, commanding the arm to always press down with a gentle, constant force.']}),"\n",(0,i.jsx)(n.h3,{id:"code-example-forward-kinematics-for-a-2-link-arm",children:"Code Example: Forward Kinematics for a 2-Link Arm"}),"\n",(0,i.jsx)(n.p,{children:"Let's see how Forward Kinematics works with a simple 2D, two-link robot arm. Given the link lengths and joint angles, we can calculate the position of the hand."}),"\n",(0,i.jsx)(l.A,{children:(0,i.jsx)(c.A,{value:"python",label:"Python",children:(0,i.jsx)(s.A,{language:"python",children:'import numpy as np\n\ndef forward_kinematics_2d(link_lengths, joint_angles):\n  """\n  Calculates the (x, y) position of a 2D, 2-link robot arm\'s end-effector.\n\n  Args:\n      link_lengths (list or tuple): A list of two link lengths [l1, l2].\n      joint_angles (list or tuple): A list of two joint angles in radians [theta1, theta2].\n                                   theta1 is the angle of the first link from the base.\n                                   theta2 is the angle of the second link relative to the first.\n  \n  Returns:\n      np.array: A 2D array [x, y] for the end-effector\'s position.\n  """\n  l1, l2 = link_lengths\n  th1, th2 = joint_angles\n  \n  # Position of the end of the first link (the "elbow")\n  x1 = l1 * np.cos(th1)\n  y1 = l1 * np.sin(th1)\n  \n  # The angle of the second link is relative to the first, so we add the angles.\n  # The position of the end-effector is relative to the elbow.\n  x2 = x1 + l2 * np.cos(th1 + th2)\n  y2 = y1 + l2 * np.sin(th1 + th2)\n  \n  return np.array([x2, y2])\n\n# --- Simulation ---\nlink_lengths = [1.0, 0.8] # Link 1 is 1.0m, Link 2 is 0.8m\n\n# Case 1: Both joints at 90 degrees (pointing straight up)\nangles1 = [np.pi / 2, 0] # 90 degrees for th1, 0 for th2\npos1 = forward_kinematics_2d(link_lengths, angles1)\nprint(f"Angles {np.rad2deg(angles1)} deg -> End-effector position: {pos1.round(2)}")\n\n# Case 2: First joint at 45 degrees, second bent inward by 90 degrees\nangles2 = [np.pi / 4, -np.pi / 2] # 45 degrees for th1, -90 for th2\npos2 = forward_kinematics_2d(link_lengths, angles2)\nprint(f"Angles {np.rad2deg(angles2)} deg -> End-effector position: {pos2.round(2)}")\n'})})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var o=t(4164);const i={tabItem:"tabItem_Ymn6"};var r=t(4848);function a({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.A)(i.tabItem,t),hidden:n,children:e})}}}]);